<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Login - Rental Property Management</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-color: #4f46e5;
            --primary-dark: #4338ca;
            --secondary-color: #6d28d9;
            --accent-color: #60a5fa;
            --success-color: #22c55e;
            --error-color: #ef4444;
            --warning-color: #f59e0b;
            --text-primary: #111827;
            --text-secondary: #6b7280;
            --text-light: #9ca3af;
            --bg-primary: #ffffff;
            --bg-secondary: #f9fafb;
            --bg-tertiary: #f3f4f6;
            --border-color: #e5e7eb;
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --border-radius: 0.5rem;
            --transition: all 0.2s ease-out;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            min-height: 100vh;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 30% 70%, rgba(79, 70, 229, 0.2) 0%, transparent 50%);
            animation: backgroundFloat 15s ease-in-out infinite;
            z-index: -1;
        }

        @keyframes backgroundFloat {
            0%, 100% { transform: translate(0, 0); }
            50% { transform: translate(10px, -10px); }
        }

        .auth-container {
            max-width: 28rem;
            width: 100%;
            padding: 1rem;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .login-card {
            background: var(--bg-primary);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            padding: 2rem;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .login-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
        }

        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
        }

        .gradient-icon {
            font-size: 2rem;
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .logo h1 {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .admin-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--primary-color);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
            justify-content: center;
        }

        .form-group {
            margin-bottom: 1.25rem;
            position: relative;
        }

        .form-input {
            width: 100%;
            padding: 0.75rem 1rem;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 0.9375rem;
            color: var(--text-primary);
            background: var(--bg-secondary);
            transition: var(--transition);
        }

        .form-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
            outline: none;
        }

        .input-icon {
            position: absolute;
            right: 0.75rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
        }

        .form-input:focus + .input-icon {
            color: var(--primary-color);
        }

        .login-button {
            width: 100%;
            padding: 0.75rem;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: var(--border-radius);
            font-size: 0.9375rem;
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .login-button:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }

        .error-message, .success-message {
            padding: 0.75rem;
            border-radius: var(--border-radius);
            font-size: 0.875rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .error-message {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: var(--error-color);
        }

        .success-message {
            background: #f0fdf4;
            border: 1px solid #bbf7d0;
            color: var(--success-color);
        }

        .divider {
            display: flex;
            align-items: center;
            margin: 1.5rem 0;
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .divider::before, .divider::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--border-color);
        }

        .divider span {
            padding: 0 0.75rem;
        }

        .admin-info {
            background: var(--bg-secondary);
            padding: 1rem;
            border-radius: var(--border-radius);
            font-size: 0.875rem;
            color: var(--text-secondary);
            text-align: center;
        }

        .admin-info p {
            margin: 0.5rem 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }

        .footer-card {
            background: var(--bg-primary);
            border-radius: var(--border-radius);
            padding: 1rem;
            margin-top: 1rem;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer-links a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
        }

        .footer-links a:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }

        /* Dashboard Styles */
        .page {
            display: none;
        }

        .dashboard-page {
            background: var(--bg-secondary);
            min-height: 100vh;
        }

        .navbar {
            background: var(--bg-primary);
            box-shadow: var(--shadow-sm);
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .navbar-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 600;
        }

        .navbar-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-secondary);
            text-decoration: none;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        .nav-link:hover {
            background: var(--bg-tertiary);
            color: var(--text-primary);
        }

        .nav-link.active {
            background: var(--primary-color);
            color: white;
        }

        .logout-button {
            background: var(--error-color);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
        }

        .logout-button:hover {
            background: #dc2626;
        }

        .mobile-menu-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.25rem;
            cursor: pointer;
        }

        .mobile-menu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: var(--bg-primary);
            flex-direction: column;
            padding: 1rem;
            box-shadow: var(--shadow-md);
        }

        .mobile-menu.active {
            display: flex;
        }

        .dashboard-content {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }

        .page-header {
            margin-bottom: 2rem;
        }

        .page-title {
            font-size: 1.875rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-primary);
        }

        .page-subtitle {
            color: var(--text-secondary);
            font-size: 1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .stat-card {
            background: var(--bg-primary);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow-sm);
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .stat-icon {
            font-size: 1.5rem;
            color: var(--primary-color);
        }

        .stat-number {
            font-size: 1.75rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.875rem;
        }

        .quick-actions-card, .welcome-card {
            background: var(--bg-primary);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow-sm);
        }

        .quick-actions-card h2, .welcome-card h2 {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }

        .action-buttons {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }

        .add-house-button, .secondary-action-button {
            padding: 0.75rem 1rem;
            border-radius: var(--border-radius);
            font-weight: 500;
            cursor: pointer;
            transition: var(--transition);
        }

        .add-house-button {
            background: var(--primary-color);
            color: white;
            border: none;
        }

        .add-house-button:hover {
            background: var(--primary-dark);
        }

        .secondary-action-button {
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border: 1px solid var(--border-color);
        }

        .secondary-action-button:hover {
            background: var(--bg-secondary);
        }

        .users-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .users-table-container {
            background: var(--bg-primary);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow-sm);
        }

        .table-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .table-actions button {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
        }

        .users-table {
            width: 100%;
            border-collapse: collapse;
        }

        .users-table th, .users-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .users-table th {
            background: var(--bg-tertiary);
            font-weight: 600;
            color: var(--text-primary);
        }

        /* Booking Page Styles */
        .booking-filters {
            margin-bottom: 1.5rem;
        }

        .filter-buttons {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            border: none;
            background: var(--bg-tertiary);
            color: var(--text-primary);
            border-radius: var(--border-radius);
            cursor: pointer;
        }

        .filter-btn.active, .filter-btn:hover {
            background: var(--primary-color);
            color: white;
        }

        .content-card {
            background: var(--bg-primary);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow-sm);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .admin-bookings-grid {
            display: grid;
            gap: 1rem;
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-content {
            background: var(--bg-primary);
            border-radius: var(--border-radius);
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .modal-body {
            padding: 1.5rem;
        }

        .modal-footer {
            padding: 1rem;
            border-top: 1px solid var(--border-color);
            display: flex;
            gap: 1rem;
            justify-content: flex-end;
        }

        .close-button, .secondary-button, .primary-button {
            padding: 0.5rem 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
        }

        .close-button {
            background: none;
            border: none;
            font-size: 1.25rem;
        }

        .primary-button {
            background: var(--primary-color);
            color: white;
            border: none;
        }

        .secondary-button {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
        }

        .form-textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            resize: vertical;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }

        .file-upload-area {
            border: 2px dashed var(--border-color);
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
        }

        .toast-container {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            z-index: 1000;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .navbar-actions {
                display: none;
            }

            .mobile-menu-toggle {
                display: block;
            }

            .mobile-menu {
                flex-direction: column;
                gap: 0.5rem;
            }

            .form-row {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 640px) {
            .auth-container {
                padding: 0.5rem;
            }

            .login-card {
                padding: 1.5rem;
            }

            .logo h1 {
                font-size: 1.5rem;
            }

            .dashboard-content {
                padding: 0 0.5rem;
            }
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --text-primary: #f3f4f6;
                --text-secondary: #d1d5db;
                --bg-primary: #1f2937;
                --bg-secondary: #374151;
                --bg-tertiary: #4b5563;
                --border-color: #4b5563;
            }

            body {
                background: linear-gradient(135deg, #1e3a8a, #4c1d95);
            }

            .login-card, .footer-card, .navbar, .quick-actions-card, .welcome-card, .stat-card, .users-table-container, .content-card {
                background: var(--bg-primary);
            }

            .nav-link:hover {
                background: var(--bg-tertiary);
            }
        }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation: none !important;
                transition: none !important;
            }
        }
    </style>
</head>
<body>
    <div class="page-container">
        <!-- Login Page -->
        <div id="loginPage" class="page auth-container" style="display: block;">
            <div class="login-form-container">
                <div class="login-card">
                    <div class="logo">
                        <i class="fas fa-home gradient-icon"></i>
                        <h1>Rental System</h1>
                    </div>
                    <div style="text-align: center;">
                        <div class="admin-badge">
                            <i class="fas fa-shield-alt"></i>
                            Admin Access
                        </div>
                    </div>
                    <div id="loginError" class="error-message" style="display: none;">
                        <i class="fas fa-exclamation-circle"></i>
                        <span id="errorText"></span>
                    </div>
                    <div id="loginSuccess" class="success-message" style="display: none;">
                        <i class="fas fa-check-circle"></i>
                        <span id="successText"></span>
                    </div>
                    <form id="loginForm">
                        <div class="form-group">
                            <input
                                type="email"
                                id="email"
                                name="email"
                                placeholder="Admin email address"
                                class="form-input"
                                required
                                autocomplete="username"
                                inputmode="email"
                            />
                            <i class="fas fa-envelope input-icon"></i>
                        </div>
                        <div class="form-group">
                            <input
                                type="password"
                                id="password"
                                name="password"
                                placeholder="Admin password"
                                class="form-input"
                                required
                                autocomplete="current-password"
                            />
                            <i class="fas fa-lock input-icon"></i>
                        </div>
                        <button type="submit" class="login-button" id="loginBtn">
                            <span id="loginBtnText">
                                <i class="fas fa-sign-in-alt"></i>
                                Sign In to Admin Panel
                            </span>
                            <div id="loginSpinner" class="loading-spinner" style="display: none;"></div>
                        </button>
                    </form>
                    <div class="divider">
                        <span>Admin Portal</span>
                    </div>
                    <div class="admin-info">
                        <p><i class="fas fa-building"></i> Property Management System</p>
                        <p><i class="fas fa-users"></i> Manage users, properties & bookings</p>
                        <p><i class="fas fa-chart-bar"></i> View analytics & system reports</p>
                    </div>
                </div>
                <div class="footer-card">
                    <p><strong>Rental System Admin Panel</strong></p>
                    <p>Secure access for property management professionals</p>
                    <div class="footer-links">
                        <p>
                            Looking for rentals? 
                            <a href="register.html">Create Account</a>
                            or
                            <a href="login.html">Sign In</a>
                        </p>
                        <p style="margin-top: 0.75rem;">
                            <a href="home.html">
                                <i class="fas fa-arrow-left"></i>
                                Back to Main Site
                            </a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Page -->
        <div id="dashboardPage" class="page dashboard-page" style="display: none;">
            <nav class="navbar">
                <div class="navbar-content">
                    <a href="#" class="navbar-brand" onclick="showDashboard()">
                        <i class="fas fa-home"></i>
                        <span>Rental System</span>
                    </a>
                    <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="navbar-actions">
                        <a href="#" onclick="showHouses()" class="nav-link">
                            <i class="fas fa-building"></i>
                            <span>Houses</span>
                        </a>
                        <a href="#" onclick="showBookings()" class="nav-link">
                            <i class="fas fa-calendar-check"></i>
                            <span>Bookings</span>
                        </a>
                        <a href="#" onclick="showUsers()" class="nav-link">
                            <i class="fas fa-users"></i>
                            <span>Users</span>
                        </a>
                        <button onclick="logout()" class="logout-button">
                            <i class="fas fa-sign-out-alt"></i>
                            <span>Logout</span>
                        </button>
                    </div>
                    <div class="mobile-menu" id="mobileMenu">
                        <a href="#" onclick="showDashboard(); closeMobileMenu()" class="nav-link">
                            <i class="fas fa-chart-bar"></i>
                            Dashboard
                        </a>
                        <a href="#" onclick="showHouses(); closeMobileMenu()" class="nav-link">
                            <i class="fas fa-building"></i>
                            Manage Houses
                        </a>
                        <a href="#" onclick="showBookings(); closeMobileMenu()" class="nav-link">
                            <i class="fas fa-calendar-check"></i>
                            Manage Bookings
                        </a>
                        <a href="#" onclick="showUsers(); closeMobileMenu()" class="nav-link">
                            <i class="fas fa-users"></i>
                            Manage Users
                        </a>
                        <button onclick="logout()" class="logout-button">
                            <i class="fas fa-sign-out-alt"></i>
                            Logout
                        </button>
                    </div>
                </div>
            </nav>
            <div class="dashboard-content">
                <div class="page-header">
                    <h1 class="page-title">
                        <i class="fas fa-chart-bar"></i>
                        Dashboard
                    </h1>
                    <p class="page-subtitle">
                        Overview of your rental property management system
                    </p>
                </div>
                <div id="dashboardStats" class="stats-grid">
                    <!-- Stats will be loaded here -->
                </div>
                <div class="quick-actions-card">
                    <h2>
                        <i class="fas fa-home"></i>
                        Property Management
                    </h2>
                    <p>Manage your rental properties efficiently</p>
                    <div class="action-buttons">
                        <button onclick="showAddHouseModal()" class="add-house-button">
                            <i class="fas fa-plus"></i>
                            Add New House
                        </button>
                        <button onclick="showHouses()" class="secondary-action-button">
                            <i class="fas fa-building"></i>
                            View All Houses
                        </button>
                    </div>
                </div>
                <div class="quick-actions-card">
                    <h2>
                        <i class="fas fa-users"></i>
                        User Management
                    </h2>
                    <p>Monitor and manage registered users</p>
                    <div class="action-buttons">
                        <button onclick="showUsers()" class="secondary-action-button">
                            <i class="fas fa-users"></i>
                            View All Users
                        </button>
                        <button onclick="loadUserStats()" class="secondary-action-button">
                            <i class="fas fa-chart-bar"></i>
                            User Statistics
                        </button>
                    </div>
                </div>
                <div class="welcome-card">
                    <h2>
                        <i class="fas fa-star"></i>
                        Welcome to Rental System Admin
                    </h2>
                    <p>
                        Your comprehensive platform for managing rental properties. 
                        Add new houses, upload images, set amenities, and track availability 
                        all in one place.
                    </p>
                    <div style="margin-top: 1rem; padding: 1rem; background: var(--bg-secondary); border-radius: var(--border-radius); border-left: 4px solid var(--primary-color);">
                        <p style="margin: 0; font-weight: 500; color: var(--primary-color);">
                            <i class="fas fa-info-circle"></i>
                            Quick Tip: Use the mobile menu (☰) to navigate on smaller screens.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Houses Page -->
        <div id="housesPage" class="page dashboard-page" style="display: none;">
            <nav class="navbar">
                <div class="navbar-content">
                    <a href="#" class="navbar-brand" onclick="showDashboard()">
                        <i class="fas fa-home"></i>
                        Rental System
                    </a>
                    <div class="navbar-actions">
                        <a href="#" onclick="showDashboard()" class="nav-link">
                            Dashboard
                        </a>
                        <button onclick="logout()" class="logout-button">
                            <i class="fas fa-sign-out-alt"></i>
                            Logout
                        </button>
                    </div>
                </div>
            </nav>
            <div class="dashboard-content">
                <div class="page-header">
                    <h1 class="page-title">House Management</h1>
                    <p class="page-subtitle">Add, edit, and manage your rental properties</p>
                </div>
                <button onclick="showAddHouseModal()" class="add-house-button">
                    <i class="fas fa-plus"></i>
                    Add New House
                </button>
                <div id="housesContainer">
                    <!-- Houses will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Users Page -->
        <div id="usersPage" class="page dashboard-page" style="display: none;">
            <nav class="navbar">
                <div class="navbar-content">
                    <a href="#" class="navbar-brand" onclick="showDashboard()">
                        <i class="fas fa-home"></i>
                        Rental System
                    </a>
                    <div class="navbar-actions">
                        <a href="#" onclick="showHouses()" class="nav-link">
                            <i class="fas fa-building"></i>
                            Manage Houses
                        </a>
                        <a href="#" onclick="showUsers()" class="nav-link active">
                            <i class="fas fa-users"></i>
                            Manage Users
                        </a>
                        <button onclick="logout()" class="logout-button">
                            <i class="fas fa-sign-out-alt"></i>
                            Logout
                        </button>
                    </div>
                </div>
            </nav>
            <div class="dashboard-content">
                <div class="page-header">
                    <h1 class="page-title">User Management</h1>
                    <p class="page-subtitle">Monitor and manage registered users</p>
                </div>
                <div class="users-stats">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-number" id="totalUsersCount">0</div>
                            <div class="stat-label">Total Users</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-user-check"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-number" id="activeUsersCount">0</div>
                            <div class="stat-label">Active Users</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-envelope-circle-check"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-number" id="verifiedUsersCount">0</div>
                            <div class="stat-label">Verified Users</div>
                        </div>
                    </div>
                </div>
                <div class="users-table-container">
                    <div class="table-header">
                        <h3>Registered Users</h3>
                        <div class="table-actions">
                            <button onclick="loadUsers()" class="refresh-button">
                                <i class="fas fa-refresh"></i>
                                Refresh
                            </button>
                        </div>
                    </div>
                    <div class="table-wrapper">
                        <table class="users-table">
                            <thead>
                                <tr>
                                    <th>User</th>
                                    <th>Email</th>
                                    <th>Age</th>
                                    <th>Gender</th>
                                    <th>Verified</th>
                                    <th>Status</th>
                                    <th>Joined</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="usersTableBody">
                                <!-- Users will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bookings Management Page -->
        <div id="bookingsPage" class="page dashboard-page" style="display: none;">
            <div class="dashboard-container">
                <div class="dashboard-content">
                    <div class="page-header">
                        <h1 class="page-title">
                            <i class="fas fa-calendar-check"></i>
                            Booking Management
                        </h1>
                        <p class="page-subtitle">
                            Manage site review bookings and appointments
                        </p>
                    </div>
                    <div id="bookingStats" class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="pendingBookingsCount">0</div>
                                <div class="stat-label">Pending Bookings</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-check-circle"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="approvedBookingsCount">0</div>
                                <div class="stat-label">Approved Bookings</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-calendar-day"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="todayBookingsCount">0</div>
                                <div class="stat-label">Today's Bookings</div>
                            </div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-content">
                                <div class="stat-number" id="totalBookingsCount">0</div>
                                <div class="stat-label">Total Bookings</div>
                            </div>
                        </div>
                    </div>
                    <div class="booking-filters">
                        <div class="filter-buttons">
                            <button class="filter-btn active" onclick="filterBookings('all')" data-status="all">
                                All Bookings
                            </button>
                            <button class="filter-btn" onclick="filterBookings('pending')" data-status="pending">
                                Pending
                            </button>
                            <button class="filter-btn" onclick="filterBookings('approved')" data-status="approved">
                                Approved
                            </button>
                            <button class="filter-btn" onclick="filterBookings('rejected')" data-status="rejected">
                                Rejected
                            </button>
                            <button class="filter-btn" onclick="filterBookings('completed')" data-status="completed">
                                Completed
                            </button>
                        </div>
                    </div>
                    <div class="content-card">
                        <div class="card-header">
                            <h2>Site Review Bookings</h2>
                            <button onclick="loadBookings()" class="refresh-button">
                                <i class="fas fa-sync-alt"></i>
                                Refresh
                            </button>
                        </div>
                        <div class="card-content">
                            <div id="bookingsTableContainer" class="table-container">
                                <div id="bookingsLoadingState" class="loading-state" style="display: none;">
                                    <div class="spinner"></div>
                                    <p>Loading bookings...</p>
                                </div>
                                <div id="bookingsGrid" class="admin-bookings-grid">
                                    <!-- Bookings will be loaded here -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Booking Details Modal -->
        <div id="bookingDetailsModal" class="modal-overlay" style="display: none;">
            <div class="modal-content large-modal">
                <div class="modal-header">
                    <h2 class="modal-title">Booking Details</h2>
                    <button class="close-button" onclick="closeBookingModal()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body" id="bookingDetailsContent">
                    <!-- Booking details will be loaded here -->
                </div>
                <div class="modal-footer" id="bookingActionButtons">
                    <!-- Action buttons will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Add/Edit House Modal -->
        <div id="houseModal" class="modal-overlay" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title" id="modalTitle">Add New House</h2>
                    <button class="close-button" onclick="closeHouseModal()">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <form id="houseForm">
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="form-label">House Name *</label>
                            <input type="text" id="houseName" name="name" class="form-input" required />
                        </div>
                        <div class="form-group">
                            <label class="form-label">Description</label>
                            <textarea id="houseDescription" name="description" class="form-textarea" placeholder="Describe the property..."></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Bedrooms *</label>
                                <input type="number" id="houseBedrooms" name="bedrooms" class="form-input" min="1" value="1" required />
                            </div>
                            <div class="form-group">
                                <label class="form-label">Bathrooms</label>
                                <input type="number" id="houseBathrooms" name="bathrooms" class="form-input" min="1" value="1" />
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Monthly Rent (KSh) *</label>
                                <input type="number" id="housePrice" name="price_per_night" class="form-input" step="1" min="0" required />
                                <small class="form-help">Enter the monthly rent amount. This will be divided by 30 for daily calculations.</small>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Location</label>
                                <input type="text" id="houseLocation" name="location" class="form-input" placeholder="City, State" />
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Amenities</label>
                            <input type="text" id="houseAmenities" name="amenities" class="form-input" placeholder="WiFi, Gym, Pool, Parking (comma separated)" />
                        </div>
                        <div class="form-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="houseAvailable" name="is_available" checked />
                                Available for booking
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Images</label>
                            <div class="file-upload-area" onclick="document.getElementById('imageInput').click()">
                                <i class="fas fa-upload upload-icon"></i>
                                <div class="upload-text">Click to upload images or drag and drop</div>
                                <input id="imageInput" type="file" multiple accept="image/*" style="display: none;" />
                            </div>
                            <div id="previewImages" class="preview-images" style="display: none;">
                                <!-- Image previews will be shown here -->
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" onclick="closeHouseModal()" class="secondary-button">
                            Cancel
                        </button>
                        <button type="submit" class="primary-button" id="submitBtn">
                            <span id="submitBtnText">Create House</span>
                            <div id="submitSpinner" class="loading-spinner" style="display: none;"></div>
                        </button>
                    </div>
                </form>
            </div>
        </div>

        <!-- Toast Container -->
        <div id="toastContainer" class="toast-container"></div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/app.js"></script>
    <script>
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const menuToggle = document.querySelector('.mobile-menu-toggle');
            mobileMenu.classList.toggle('active');
            const icon = menuToggle.querySelector('i');
            icon.className = mobileMenu.classList.contains('active') ? 'fas fa-times' : 'fas fa-bars';
        }

        function closeMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const menuToggle = document.querySelector('.mobile-menu-toggle');
            mobileMenu.classList.remove('active');
            const icon = menuToggle.querySelector('i');
            icon.className = 'fas fa-bars';
        }

        document.addEventListener('click', function(event) {
            const mobileMenu = document.getElementById('mobileMenu');
            const menuToggle = document.querySelector('.mobile-menu-toggle');
            if (mobileMenu && menuToggle && !mobileMenu.contains(event.target) && !menuToggle.contains(event.target) && mobileMenu.classList.contains('active')) {
                closeMobileMenu();
            }
        });

        document.addEventListener('DOMContentLoaded', function() {
            const inputs = document.querySelectorAll('input[type="email"], input[type="password"]');
            inputs.forEach(input => {
                input.addEventListener('touchend', function(e) {
                    e.preventDefault();
                    this.focus();
                });
            });

            window.showError = function(message) {
                const errorDiv = document.getElementById('loginError');
                const errorText = document.getElementById('errorText');
                if (errorDiv && errorText) {
                    errorText.textContent = message;
                    errorDiv.style.display = 'flex';
                    if (window.innerWidth <= 768) {
                        setTimeout(() => errorDiv.style.display = 'none', 5000);
                    }
                    errorDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            };

            window.showSuccess = function(message) {
                const successDiv = document.getElementById('loginSuccess');
                const successText = document.getElementById('successText');
                if (successDiv && successText) {
                    successText.textContent = message;
                    successDiv.style.display = 'flex';
                    setTimeout(() => successDiv.style.display = 'none', 3000);
                    successDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            };

            function setVH() {
                let vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', `${vh}px`);
            }

            setVH();
            window.addEventListener('resize', setVH);
            window.addEventListener('orientationchange', setVH);

            const buttons = document.querySelectorAll('.login-button, .add-house-button, .secondary-action-button');
            buttons.forEach(button => {
                button.addEventListener('touchstart', function() {
                    this.style.transform = 'scale(0.98)';
                });
                button.addEventListener('touchend', function() {
                    this.style.transform = '';
                });
            });
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const mobileMenu = document.getElementById('mobileMenu');
                if (mobileMenu && mobileMenu.classList.contains('active')) {
                    closeMobileMenu();
                }
            }
        });
    </script>
</body>
</html>